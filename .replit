# This is a .replit file.
# It configures the behavior of your Repl.
# For more details, see https://docs.replit.com/programming-environment/replit-dot-nix

entrypoint = "main.py"
# run = "python -m uvicorn main:app --host 0.0.0.0 --port 8000" # THIS LINE IS CHANGED

run = "uvicorn main:app --host 0.0.0.0 --port 8000"
modules = ["python-2.7", "python-3.10", "python-3.11", "python-3.8", "python-3.9"]

[nix]
channel = "stable-23_11"
packages = ["cairo", "ffmpeg-full", "freetype", "ghostscript", "glibcLocales", "gobject-introspection", "gtk3", "libxcrypt", "pkg-config", "qhull", "tcl", "tk", "yakut"]

[languages]

[languages.python]
runtime = "python310" # Or your preferred Python version, e.g., "python311"

[tools]
[tools.format]
command = ["python3", "-m", "black", "."]

[tools.lint]
command = ["python3", "-m", "flake8", "."]

[[ports]]
localPort = 8000
externalPort = 80

[workflows]
runButton = "Run FastAPI"

[[workflows.workflow]]
name = "Run FastAPI"
author = 22007732
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python -m uvicorn main:app --host 0.0.0.0 --port 8000"
